<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>04_模板解析_表达式_vue</title>
  <script src="./js/mvvm.js"></script>
  <script src="./js/compile.js"></script>
  <script src="./js/observer.js"></script>
  <script src="./js/watcher.js"></script>
</head>

<body>
  <!--html模版-->
  <!--当前的这个id为app的这个div可以看成是这个html模版中的html容器,最终肯定是在这个容器中针对msg这个表达式来进行解析-->
  <div id="app">
    <p>{{msg}}</p>
  </div>
  <script type="text/javascript">
    // 模版解析之表达式的解析是如何实现的,msg属性中的数据最终是怎么显示到html标签中
    const vm = new MVVM({
      el: '#app',
      data: {
        msg: '今天中午吃什么'
      }
    })

    /*
      模版:html标签(整体)
      容器:id为app的这个div标签
      data中的msg---->属性
      html模版(容器中)的msg----->表达式
      解析:把代码进行解析(编译)的过程,最终html中的表达式msg,可以显示成 : 今天中午吃什么 的过程就是解析的过程
      html模版中 ----->{{msg}}----->插值语法
    
    
    */
















    /*

      面试题:说说你对Vue中的插值语法的解析的理解(编译的理解)或者说说你对插值语法的理解
      所谓的插值语法的解析:在实例化Vue的时候,内部会创建一个编译对象,并传入当前的html容器的选择器,及vm实例对象
      编译对象内部会根据选择器获取html中的容器对象,同时保存vm实例对象,进行编译操作,先创建一个虚拟DOM(文档碎片对象),然后html容器内部所有的节点全部的扔进文档碎片对象中,紧接着遍历里面所有的节点,并且获取节点文本内容及定义插值语法的正则表达式,判断当前的节点是标签还是文本,如果是文本则再判断当前的文本内容与插值语法的正则是否匹配,
      如果是标签暂且不考虑,如果是文本并且与插值语法匹配,内部先获取当前的文本节点,提取出插值语法中的表达式
      下一步通过vm实例对象获取当前这个表达式的值,在bind方法内部获取updater对象中相关的解析插值语法的方法,把文本节点通过textContent属性替换成表达式的值,这些操作都是在内存中的文档碎片对象中进行操作,结束后,最后把文档碎片对象重新的扔进到html容器中即可



    */



  </script>
</body>

</html>